---
title: 搭建个人博客
date: 2025-05-16 13:14:37
tags: [fluid, hexo]
categories: 其他
---

# Hexo环境配置
hexo是一个静态博客框架，借助它可以帮助我们将Markdown编写的博客渲染成静态HTML页面。

## 安装Node.js
hexo是基于Node.js的，因此我们在安装hexo之前需要安装Node.js和npm，再通过npm安装hexo。直接打开[Node.js官网](https://nodejs.org/zh-cn)，下载Node.js软件进行安装。
![Node.js官网](./images/搭建个人博客/Node_js官网.png)
Node.js安装的同时会自动安装node和npm两个工具，使用如下命令检查是否安装成功：
```bash
node -v
```
如果能成功输出版本号，则安装成功。使用如下命令查看npm是否安装成功：
```bash
npm -v
```

## 安装Hexo
使用npm进行安装。首先将npm替换为国内源：
```bash
npm config set registry https://registry.npmmirror.com 
```
接着使用如下命令安装hexo：
```bash
npm install -g hexo-cli
```
hexo安装完成后，执行如下命令对博客所在文件夹进行初始化：
```bash
hexo init 博客所在文件夹的路径
```
进入博客所在文件夹：
```bash
cd 博客所在文件夹的路径
```
然后安装相关依赖包：
```bash
npm install
```
hexo环境配置完成！

# hexo管理博客的方法
执行如下两条命令，运行hexo服务：
```bash
hexo generate
hexo server
```

# 利用Github Pages托管博客
我们希望能够在线浏览博客，因此将博客托管到Github仓库。

## 将博客托管到Github
在Github上创建一个项目，项目名设置为`你的Github用户名.githun.io`。
创建完成后Github会给出快速设置仓库的指令，如下图所示。依次执行图中的指令，将其中`git add README.md`命令替换为`git add .`。
![快速设置Github仓库](./images/搭建个人博客/快速设置Github仓库.png)

## 使用Github Pages部署博客
这一步需要修改hexo的配置文件，在你的博客所在文件夹下打开`_config.yml`配置文件，修改type配置项，具体修改如下图所示。其中`repository`需要修改为你自己的地址：
![hexo配置](./images/搭建个人博客/hexo配置.png)
最后执行`npm install hexo-deployer-git --save`命令，安装插件简化部署流程。

使用`hexo new post 文章标题`命令可以在`source/_post`文件夹下生成博客的Markdown文件，用于博客的撰写。写完后，可以使用如下命令将博客发布到Github Pages上。
```bash
hexo clean # 清楚缓存
hexo generate # 生成渲染
hexo deploy # 部署到Github Pages上
```
发布完成后，可以在`https://github用户名.github.io/`网址上访问在线博客。
![访问个人博客](./images/搭建个人博客/访问个人博客.png)

# 使用Cloudflare加速访问
国内访问Github非常不稳定，因此使用Cloudflare代理进行加速。首先打开[Cloudflare](https://www.cloudflare.com/zh-cn/)，在左侧找到Workers和Pages，切换到Pages栏，选择导入现有Git存储库，选择我们的博客仓库授权即可：
![Couldflare加速.png](./images/搭建个人博客/Couldflare加速.png)
部署完成后，点击继续处理项目。下图中红框位置即为分配的域名：
![分配域名](./images/搭建个人博客/分配域名.png)

# 修改主题
以Fluid主题为例，首先下载[Fluid主题最新release版本](https://github.com/fluid-dev/hexo-theme-fluid?tab=readme-ov-file)。然后将其解压到themes目录下，并将解压后的文件夹命名为`fluid`。
修改`_config.yml`文件：
```yml
theme: fluid # 指定主题

language: zh-CN # 指定语言
```
创建关于页：
```bash
hexo new page about
```
创建之后，编辑博客目录下的`./source/about/index.md`，添加`layout`属性：
```
title: about
layout: about
```

# 添加评论功能
原本想要使用[utterances插件](https://github.com/apps/utterances)添加评论功能，但一直无法加载，于是更换为giscus。首先进入[giscus](https://github.com/apps/giscus)，点击`Install`进行安装，然后选择对应的仓库即可，这里我已经安装过了，不再展示。

接着点击[giscus配置](https://giscus.app/zh-CN)，输入你的仓库地址即可生成对应的信息，根据生成信息修改对应的配置文件：
![giscus仓库设置](./images/搭建个人博客/giscus仓库设置.png)
![开启comments功能](./images/搭建个人博客/开启comments功能.png)
![giscus配置](./images/搭建个人博客/giscus配置.png)



接着修改`fluid`文件夹下的`_config.yml`文件，填入以下内容：
```yml
post:
  comments:
    enable: true
    type: utterances

utterances:
  repo: GitHub用户名/GitHub用户名.github.io
  issue_term: title
  label: utterances
  theme: github-light
  theme_dark: github-dark
  crossorigin: anonymous    
```
最后重新发布服务，博客添加评论功能成功。

# 参考
[搭建免费个人博客：Cloudflare+GitHub+Hexo Fluid](https://tyxiaoming.xin/2025/01/21/%E6%90%AD%E5%BB%BA%E5%85%8D%E8%B4%B9%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%8D%9A%E5%AE%A2/)

